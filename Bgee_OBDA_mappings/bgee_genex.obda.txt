[PrefixDeclaration]
:		http://biosoda.cloudlab.zhaw.ch#
up:		http://purl.uniprot.org/core/
obo:		http://purl.obolibrary.org/obo/
oma:		http://omabrowser.org/ontology/oma#
owl:		http://www.w3.org/2002/07/owl#
rdf:		http://www.w3.org/1999/02/22-rdf-syntax-ns#
xml:		http://www.w3.org/XML/1998/namespace
xsd:		http://www.w3.org/2001/XMLSchema#
bgee:		http://bgee.org/bgeeOntology#
obda:		https://w3id.org/obda/vocabulary#
orth:		http://purl.org/net/orth#
rdfs:		http://www.w3.org/2000/01/rdf-schema#
genex:		http://purl.org/genex#
dcterms:		http://purl.org/dc/terms/

[MappingDeclaration] @collection [[
mappingId	Stage
target		obo:{stageIdSPARQL} a <http://www.ebi.ac.uk/efo/EFO_0000399> ; rdfs:label {stageName}^^xsd:string ; dcterms:description {stageDescription}^^xsd:string . 
source		select stageId, replace(stageId,":","_") as stageIdSPARQL, stageName, stageDescription from stage WHERE stageId is not null

mappingId	Species
target		<http://purl.uniprot.org/taxonomy/{speciesId}> a up:Taxon ; up:scientificName {speciesConcatName} ; up:rank up:Species ; up:commonName {speciesCommonName} . orth:Organism/{speciesId} a orth:Organism ; obo:RO_0002162 <http://purl.uniprot.org/taxonomy/{speciesId}> . 
source		select speciesId, speciesCommonName, genomeVersion, genomeSpeciesId, concat(genus, ' ', species) as speciesConcatName from species

mappingId	AnatomicalEntity
target		obo:{anatEntityIdSPARQL} a genex:AnatomicalEntity ; dcterms:description {anatEntityDescription}^^xsd:string ; rdfs:label {anatEntityName}^^xsd:string . 
source		select anatEntityId, replace(anatEntityId,":","_") as anatEntityIdSPARQL, anatEntityName, anatEntityDescription from anatEntity

mappingId	Gene
target		oma:GENE_{geneId} a orth:Gene ; rdfs:label {geneName}^^xsd:string ; dcterms:description {geneDescription}^^xsd:string ; dcterms:identifier {geneId}^^xsd:string ; orth:organism orth:Organism/{speciesId} . 
source		select bgeeGeneId, geneId, geneName, geneDescription, speciesId from gene

mappingId	GeneInTaxon
target		orth:Organism/{speciesId} obo:RO_0002162 <http://purl.uniprot.org/taxonomy/{speciesId}> . 
source		select geneId, speciesId from gene

mappingId	ExpressionCondition
target		genex:ExpressionCondition/{globalConditionId} a genex:ExpressionCondition ; genex:hasDevelopmentalStage obo:{stageIdSPARQL} ; genex:hasAnatomicalEntity obo:{anatEntityIdSPARQL} ; obo:RO_0002162 <http://purl.uniprot.org/taxonomy/{speciesId}> . 
source		select stageId, anatEntityId, globalConditionId, replace(stageId,":","_") as stageIdSPARQL, replace(anatEntityId,":","_") as anatEntityIdSPARQL, speciesId from globalCond

mappingId	Expression
target		genex:Expression/{globalExpressionId} a genex:Expression ; genex:hasExpressionCondition genex:ExpressionCondition/{globalConditionId} ; genex:hasSequenceUnit oma:GENE_{geneId} . 
source		SELECT globalExpressionId, globalConditionId, globalExpression.bgeeGeneId, gene.geneId FROM globalExpression JOIN gene ON gene.bgeeGeneId = globalExpression.bgeeGeneId

mappingId	Gene_IsExpressedIn_anatEntity
target		oma:GENE_{geneId} genex:isExpressedIn obo:{anatEntityIdSPARQL} . 
source		SELECT g.geneId, REPLACE(gc.anatEntityId,":","_") as anatEntityIdSPARQL
			FROM
			globalExpression as ge
			JOIN
			globalCond as gc
			ON ge.globalConditionId = gc.globalConditionId
			JOIN
			gene as g
			ON g.bgeeGeneId = ge.bgeeGeneId

mappingId	Gene_IsExpressedIn_expressionCondition
target		oma:GENE_{geneId} genex:isExpressedIn genex:ExpressionCondition/{globalConditionId} . 
source		SELECT g.geneId, gc.globalConditionId
			FROM
			globalExpression as ge
			JOIN
			globalCond as gc
			ON ge.globalConditionId = gc.globalConditionId
			JOIN
			gene as g
			ON g.bgeeGeneId = ge.bgeeGeneId
]]

